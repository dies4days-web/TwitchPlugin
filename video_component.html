<!DOCTYPE html><html><head><meta charset="utf-8"><style>
body{margin:0;background:transparent;font-family:system-ui}
#bar,#tab{position:fixed!important;z-index:2147483647!important;top:0;left:-100%;width:100%;height:110px;background:rgba(0,0,0,0.95);backdrop-filter:blur(20px);border-bottom:3px solid #9147ff;transition:left .5s;display:flex;align-items:center}
#bar.open{left:0}
#tab{right:-90px;width:90px;height:70px;background:#9147ff;border-radius:0 35px 35px 0;cursor:pointer;animation:p 2s infinite}
@keyframes p{0%,100%{box-shadow:0 0 0 0 #9147ff}50%{box-shadow:0 0 0 30px transparent}}
#tab svg{width:40px;height:40px;fill:white}
#list{flex:1;overflow-x:auto;padding:0 100px 0 20px;display:flex;gap:25px;scrollbar-width:none}
.f{text-align:center;min-width:90px;color:white}
.f img{width:64px;height:64px;border-radius:50%;border:4px solid #9147ff}
.f div{margin:8px 0;font-weight:bold}
.f button{background:#28a745;color:white;border:none;padding:8px 16px;border-radius:8px;cursor:pointer}
</style></head><body>
<div id="bar"><div id="tab" onclick="document.getElementById('bar').classList.toggle('open')">
<svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
</div><div id="list"></div></div>

<script src="https://extension-files.twitch.tv/helper/v1/twitch-ext.min.js"></script>
<script>
const bar=document.getElementById('bar'),list=document.getElementById('list');
let token='',id='';
window.Twitch.ext.onAuthorized(a=>{token=a.helixToken;id=a.clientId;load()});
window.Twitch.ext.configuration.onChanged(load);
async function load(){
  try{
    const f=JSON.parse(window.Twitch.ext.configuration.broadcaster?.content||'[]');
    list.innerHTML='';
    for(const u of f){
      const r=await fetch(`https://api.twitch.tv/helix/users?login=${u}`,{headers:{'Authorization':'Bearer '+token,'Client-Id':id}});
      const d=await r.json();
      if(d.data?.[0]){
        const x=d.data[0];
        list.innerHTML+=`<div class="f"><img src="${x.profile_image_url}"><div>@${x.display_name}</div><button onclick="window.Twitch.ext.actions.followChannel('${x.login}')">Follow</button></div>`;
      }
    }
  }catch(e){}
}
window.Twitch.ext.onVisibilityChanged(v=>{if(!v)bar.classList.remove('open');});
</script>
</body></html>
